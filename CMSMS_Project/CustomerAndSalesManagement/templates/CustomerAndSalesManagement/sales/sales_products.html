{% extends 'CustomerAndSalesManagement/sales/sales_base.html' %}
{% load static %}

{% block title %}
      ---page path---
{% endblock %}


{% block content %}
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">
<style>

.page-item.active .page-link {
    columns: #FFFFFFF;
    background-color: #6c757d;
    border: 1px solid #6c757d;
}


.pagination > li > a {
    background-color: #FFFFFF;
    color: #6c757d ;
}

</style>

    <div class="home-content">
      <i class='bx bx-menu' ></i>
      <span class="text"> Products </span>
    </div>
    <hr class="title-hr">

    <section class="scroll-card">
        <div class="container"><br>
            <div class="row">
                <div class="col">
                    <a href="{% url 'sales_products_csv' %}" class="btn btn-success">Export CSV <i class="bx bxs-file-export"></i></a>
                </div>
                <div class="col">
                    <div class="d-grid d-md-flex justify-content-md-end" style="padding-top: 0.2rem; padding-right: 0.2rem;">
                        <a href="{% url 'create_product' %}" class="btn btn-warning">ADD PRODUCT +</a>
                    </div>
                </div>
            </div>
                <br>
                    <table class="table table-hover shadow display" id="table_id">
                      <thead class="table text-white" style="background:#1F3C88;">
                        <tr>
                          <th>ID</th>
                          <th>Name</th>
                          <th>Product</th>
                          <th>Description</th>
                          <th>Retail Price</th>
                          <th>Selling Price</th>
                          <th>Date Created</th>
                          <th></th>
                        </tr>
                      </thead>
                      <tbody style="background: #CEDDEF;">
                      {% for product in products %}
                        <tr>
                          <th scope="row">{{ product.id }}</th>
                          <td>{{ product.name }}</td>
                          <td><img class="rounded-circle" src="{{product.image_url.url}}" style="width: 2.5rem; height: 2.5rem;" alt="..."/></td>
                          <td style=" max-width: 100px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;">{{ product.description }}</td>
                          <td>{{ product.retail_price }}</td>
                          <td>{{ product.selling_price }}</td>
                          <td>{{ product.date_created }}</td>
                          <td><a class="btn btn-sm btn-success"
                                   href="{% url 'update_sales_products' product.id %}">Update</a>&nbsp;
                              <a class="btn btn-danger btn-sm btn-info"
                                   href="{% url 'delete_sales_products' product.id %}">Delete</a></td>
                        </tr>
                      {% endfor %}
                      </tbody>
                    </table>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
    <script>

        $('#table_id').DataTable({
            paging:true,
            pageLength: 7,
            LengthChange: true,
            autoWidth: true,
            searching: true,
            bInfo: true,
            bSort: true,
        })

    </script>

{% endblock content %}